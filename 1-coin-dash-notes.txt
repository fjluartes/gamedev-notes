COIN DASH
- Game 1 of Godot 4 book
- Collect coins before time runs out

NOTES
Setting up New Project
- Project > Project Settings
- Viewport height/width: 720x480 (portrait)
- Stretch - Mode - canvas_items, Aspect - Keep

PLAYER SCENE
- Display character w/ animations
- Respond to usesr input
- Detect collision
- Player (Area2D)
	- AnimatedSprite2D
	- CollisionShape2D
- "Area2D" Node
	- 2D node, can move in 2D space, can detect overlap with other nodes
- Click "Group Selected Node" icon to avoid accidental changes in node
- "AnimatedSprite2D" node
	- Handles appearance and animations
	- Animations - 5 to 8 FPS, Autoplay on Load for default sprite animation
	- Transform > Scale to change size
	- Use "Offset" property to center AnimatedSprite2D. Sprite images are not centered vertically.
- CollisionShape2D
	- "Hitbox" of the sprite i.e. shape of the sprite for collision
	- RectangleShape2D, CapsuleShape2D, etc.
- Scripting the player
	- Click Scripting icon to add scripts (GDScript) to Player scene.
	- Using @export annotation on "speed" variable allows setting the value in Inspector window.
- Moving the player
	- Use _process() function to define player movement
	- _process() function is called on every frame
	- Player does 3 things:
		- Check keyboard input
		- Move in given direction
		- Play animation
	- Project Settings > Input Map, Input.is_action_pressed()
	- Input.get_vector() - handles input in 4 directions
	- Clamp() - set min and max positions to prevent objects from leaving the screen
- Delta
	- Elapsed time since previous frame
	- Game engine runs at 60 FPS (frames per second)
	- If frame rate is not consistent, it affects object movement in game
	- ~16ms. e.g. 600 pixels/sec * delta = 10 pixels movement
- Choosing animations
	- If velocity > 0 - run, else idle
		- flip_h - flip sprite when moving to the left
- Starting/ending player movement
	- Main scene informs player when game has started or ended
	- start() and die() functions. 
	- set_process(bool) - starts or stops the _process() function
- Signals
	- Way for nodes to send out messages that other nodes can detect/react
	- e.g. body colliding, button being pressed, etc.
	- signal pickup
	- signal hurt
		- Signals that player will emit when they touch a coin or obstacle
	- area_entered
		- signal to detect collision
		- other nodes will also be Area2D nodes
		- creates _on_area_entered(area) function

COIN SCENE
Scene > New Scene
- Coin (Area2D)
	- AnimatedSprite2D
	- CollisionShape2D
- Animation Speed - 12FPS
- Scale: (0.4, 0.4)
- CollisionShape2D - CircleShape2D
- Groups
	- group similar nodes
- queue_free()
	- Godot's method for removing nodes
	- Adds object to a queue to be deleted at end of frame

MAIN SCENE
Scene > New Scene
- Background - TextureRect
	- grass.png, Stretch Mode - tile, Full rect size
- GameTimer - Timer node
- Script
	- @export var coin_scene, playtime
	- @export allows variables to appear in Inspector tab
	- get_viewport().get_visible_rect().size
	- $Player - call player scene in main
		- add player as child scene: Main > Instantiate Child Scene > select player.tscn
- Starting a new game
	- new_game()
		- $Player.start(), $Player.show(), $GameTimer.start(), spawn_coins()
		- add new_game() to _ready() to test
	- spawn_coins()
		- spawn coin scene in random positions
		- c = coin_scene.instantiate()
		- add_child(c)
		- c.position, randi_range(0, screensize.x) & screensize.y

USER INTERFACE
- HUD - heads up display
	- score, time remaining, Game Over message, start button
- HUD (CanvasLayer)
	- Message (Label)
	- MarginContainer
		- Score (Label)
		- Time (Label)
	- Timer
	- StartButton (Button)
- Label - message: Game title, Game Over message
	- Label Settings, Font (add font), edit font size
- Score and time display
	- Label nodes but uses Container node to manage position (MarginContainer)
	- MarginContainer - 10px - adds margin on top of screen for score and time
	- Score/Time - set Horizontal/Vertical Alignment
- Timer
	- Wait Time 2s, One Shot On
	- connect timeout() signal to HUD
		- creates _on_timer_timeout()
- StartButton
	- Text: Start, layout Center Bottom, add font
	- connect pressed() signal to HUD
	- when button is pressed, it emits a signal
		- $StartButton.hide(), $Message.hide(), start_game.emit()
- Game Over
	- show_game_over()
- Add HUD to Main scene
	- Add HUD scene instance to Main
	- In Main, connect timeout signal of GameTimer
	- Connect pickup and hurt signals
	- game_over() function
		- call_group() to remove all remaining coins via queue_free() call

FINISHING UP
- Add sounds, visual effects, "juice"
- Visual effects
	- tween - interpolate (change gradually) some value over time via math function
		- "easing" - https://easings.net
	- Add tween to coin when picked up
		- Add on Coin scene - pickup()
		- Disable collision first to avoid double trigger on area_entered
		- create_tweeen, set_parallel, set_trans(Tween.TRANS_QUAD)
- Sound
	- AudioStreamPlayer2D node
	- Ctrl-D to duplicate node
	- $CoinSound - on_player_pickup()
	- $EndSound.play() - game_over()
	- $LevelSound.play - spawn_coins()
- Powerups
	- small time bonus when collected
	- appears for a short time then disappears
	- similar to Coin scene
	- Lifetime (Timer)
	- @export var powerup_scene : PackedScene
		- Add powerup_scene to Main
	- Change player script
		- _on_area_entered(area)
	- Change main script
		- _on_player_pickup(type) - coins or powerups

- Coin animation

- Obstacles
	- Cactus